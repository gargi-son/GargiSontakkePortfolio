s<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Portfolio Details - Personal Bootstrap Template</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <!-- =======================================================
  * Template Name: MyResume - v4.10.0
  * Template URL: https://bootstrapmade.com/free-html-bootstrap-template-my-resume/
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
</head>

<body>

  <main id="main">

    <!-- ======= Portfolio Details Section ======= -->
    <section id="portfolio-details" class="portfolio-details">
      <div class="container">

        <div class="row gy-4">

          <div >
            <div class="portfolio-description">
              <h2 class="text-center">Retirement  <span class="primary1">Planning Model</span>
              <p>
                <b><span class="primary1"> Overview </span></b><br>

                &emsp;&emsp; Retirement planning is crucial in providing for a person’s future financial stability. Among the preparation tools we researched,
                 none provide personalized recommendations to users. To explore solutions to this issue, for our final project, we developed a retirement planning
                 tool, which computes detailed recommendations via three systemfeatures. The first feature diagnoses a person’s current retirement preparation status; 
                 the second recommends a pareto-optimal set of asset allocation weights and contribution amounts when each of the user’s accounts aredistributed among 
                 three types of funds, US Stock, International Stock, and Bonds; the third computes the investment amount required for a user to purchase an annuity at 
                 retirement. <br>
                
                &emsp;&emsp; There are both public and private retirement programs in the United States, and a complex web of account choices and legal requirements. 
                The public program includes the Social Security system and is financed by a pay-as-you-go principle. All employed people pay into the system to cover 
                the benefits of the recipients and at the same time build up their own pension entitlements for later. The pension entitlement depends on the payments 
                made and the number of years of contributions. All salaried employers as well as self-employed persons and freelancers are obliged to pay the contributions. 
                In addition to the retirement benefits, Social Security also guarantees access to medical treatment through Medicare, which is a public health insurance 
                program for elderly and disabled citizens[150].<br>

                &emsp;&emsp; However, the American Social Security system is more of a foundational safety net since it cannot fully maintain the quality of life in 
                old age. As a result, people usually need to supplement their old age pension themselves. For this reason, many tax-advantaged options for private 
                and employer pension plans are offered. Listed below are a few of them:<br>
                <br>IRAs
                <br>401(k)
                <br>HSA
                <br>Brokerage
                <br>Mutual Funds and ETFs:
                
                <br><br>&emsp;&emsp; The inspiration for our system is the three-fund portfolio which is a simple retirement strategy that is employed by most major 
                brokerages’ Target Date Funds and championed by the Bogleheads. The Bogleheads are a group of fans of John Bogle, the founder of Vanguard and 
                creator of the first index 5 fund). Specifically, according to [38], the portfolio consists of three diverse, passively managed funds (as they 
                incur low cost):, one domestic stock, one international stock and one bond fund. We allow our user to select one fund for each of these categories.

                <br><br>&emsp;&emsp; We drew some inspiration for our features (including the structure of our GUI, and backend functionality) from a few current retirement
                calculators that are out there. We looked at Personal Finance Club’s Investment Growth Retirement Calculator which provides users with an estimate 
                of what they can expect their portfolio to grow to in retirement taking into account their cost of living, but it doesn’t provide the user with any 
                actionable information.
                
                <br><br><b><span class="primary1"> System Architecture and Tools  </span></b><br>
                
                Our application includes a Graphical User Interface (GUI), server, and backend. We implemented the GUI with the following tools:

                <br><b>Front end:</b>
                <br>● HTML
                <br>● CSS/BOOTSTRAP 
                <br>● JAVASCRIPT
                <br>● CHART.JS 
                <br>● GOOGLE CHARTS 

                <br><b>Backend:</b>
                <br>● PYTHON
                <br>● FLASK FRAMEWORK FOR REST API

                <br><b>Model: </b>
                <br>● DGAL
                <br>● PYOMO

                <br><b>Cloud</b>
                <br>● HEROKU- For backend deployment
                <br>● AWS EC2- For frontend hosting


                <br>&emsp;&emsp;We implemented our server with Flask, and our backend logic with other Python libraries, including Decision Guidance Analytics Language (DGAL) 
                , a module created by Professor Brodsky which we practiced utilizing in homework assignments. Additionally, we deployed our server and backend on 
                Heroku and our GUI on AWS EC2.
                <br>
                &emsp;&emsp;These system components interact in the following order: our GUI presents a form for user’s to input their retirement account information. 
                On submission, it forwards user input via fetch() Javascript functions to API routes on our server. These routes invoke our backend code to compute and 
                return results for our three features. Finally, our GUI presents these results to the user. The following sections will explain the implementation logic
                of each feature in our backend.

                <br><br><b>System Inputs</b> 
                <br>● Current Income
                <br>● Current Spending
                <br>● Current Taxes
                <br>● Account Information (see below)
                <br>● Retirement Age
                <br>● Life Expectancy
                <br>● Expected Spending in Retirement
                <br>● Expected Taxes in Retirement
                <br>● Expected Social Security Benefit Amount
                <br>● Expected Pension Payments
                <br>● Inflation and Salary Increase Expectations

                <br><br><b>For each account: </b>
                <br>● Account Type
                <br>● Current Contributions to Account
                <br>● Current Account Balance
                <br>● Current Asset Allocation
                <br>● Current Account Rate of Return
                
                <br><br><b>Supporting Data Sources</b>
          
                <br><br><b>Setf_options.json</b>
                <br>● Includes all ETF options for our system
                <br>● Includes the type of each fund, US/Intl/Bond
                <br>● Provides Expense Ratio and Inception Date
                <br>● Has backup expected returns information
                
                <br><br><b>IRSLimits.json</b>
                <br> ● Stores the current IRS limits, both regular and catch up for 401ks, HSA, and IRAs
                <br>● Also includes a breakdown of how each account is taxed, for future tax implementations.
                <br>● Used to check contribution limit constraints
                
                <br><br><b>table_iii.json</b>
                <br>● Stores the current IRS Uniform Lifetime Table III
                <br>● Used in the calculation of RMDs for Traditional IRAs
                
                
                
                <br><br><b>System Outputs: </b>
                <br>● Diagnosis of whether the user’s savings will last through retirement
                <br>● Recommendation 1: Set of points representing different pareto-optimal asset allocations and optimal contribution amount according to user’s budget
                <br>● Recommendation 2: The investment amount user would need to deposit to purchase an annuity at retirement and whether their account balance covers this amount
                
                <br><br><b><span class="primary1"> Optimal Asset Allocation and contribution feature  </span></b><br>
                
                <br>&emsp;&emsp;After diagnosing the user’s financial status, if their current salary is greater than their spending and tax amounts, our backend 
                computes a range of pareto-optimal asset allocations and contributions in the following manner. First, our backend uses user input to construct a 
                mathematical model representing the user’s retirement account portfolio. Afterwards, it invokes the DGAL engine which retrieves results (to construct 
                a set of pareto optimal points) by running the linear optimizer, GLPK, on a Pyomo representation of our model.
                
                <br><br><b><span class="primary1"> Model: </span></b><br>
                <br>&emsp;&emsp;According to course instruction and the Operations Research perspective a mathematical model must represent an actual system in 
                the form of mathematical equations which specify metrics and constraints on decision variables. Applying this knowledge, we created two models: 
                single account model and combined account model (these models’ implementations are in functions, singleAccountMod and combiningAccountsMod, 
                respectively, in our [modelcode.py](http://modelcode.py/) file). Each single account model represents a different retirement account. When combined, 
                these models’ outputs form metrics and constraints for one combined account model, which represents the user’s retirement account portfolio.
                        
                <br><br>&emsp;&emsp;We formed each model’s metrics and constraints to represent the domain constructs on actual retirement accounts. In
                general, the user’s goal is to maximize their portfolio’s balance by retirement (to ensure they are taking maximum
                advantage of the retirement accounts available to them and to maintain their savings until death). Every retirement account’s balance 
                increases when the rate of return and contribution amount (deposited by our user) are large. Higher return securities undergo higher 
                volatility, which is defined as the variation in returns. Thus, a higher return may decrease drastically, producing losses for the user’s 
                account over time. Additional losses on the account are incurred if the user invests in funds with high expense ratios (which charge high 
                maintenance fees) . 

                <br><br>&emsp;&emsp;Applying the domain knowledge we gained through our research we derived various variables, metrics, and constraints to represent 
                our model. First, we identified decision and fixed variables for our models. The user’s decision variables (which directly influence their objective 
                to maximize account balance by retirement) include weights of securities each account is distributed amongst, and the yearly contribution amount to 
                each account. The fixed variables in our model (which encode the user’s current situation) include the user’s pre retirement salary, spending, and 
                taxes, years until the user retires (called X), the expected return and standard deviation over the X year period for each chosen security (US
                Stock, International Stock, and Total Bond funds) in every inputted retirement account, and legal limits on contribution amounts.
                  
                <br><br>&emsp;&emsp;Afterwards, we formed metrics and constraints in terms of these variables for each model. The single account model
                computes the main metrics: portfolio expected return, portfolio standard deviation (which is a common metric for
                volatility, among other risk metrics such as beta and sharpe ratio) , total account balance by retirement, and total cost incurred on the 
                account by retirement. The single account model constraints limit the weights of each security in the account to be between 0 and 1, and the 
                yearly contributions to be within a user’s budget and IRS legal limits. As for the combined account model, the model computes totals of the 
                metrics outputted from single account model and adds a constraint limiting the total yearly contribution to all accounts to be
                within the user’s budget. Besides these primary metrics, our models compute linear proxies representing the growth of each retirement
                account and the standard deviation. We use these proxies in objective functions to produce our pareto optimal front of asset allocations.
                  
                <br><br><b><span class="primary1">Pareto Optimal Front </span></b>
                <br><br>&emsp;&emsp; As implied previously, there is a direct linear relation between standard deviation (volatility) and expected return. 
                In general, risk averse users (seeking to preserve their investment) are willing to compromise expected return for a
                lower standard deviation in their account. Thus, financial advisors ([136],[137]) recommend users allocate more of
                their accounts into set proportions of stocks and bonds based on their level of risk. Additionally, sources recommend that to maximize 
                retirement account balance, users start with a high stock allocation in their youth and allocate more towards bonds as they approach retirement.
                
                <br><br>&emsp;&emsp;In order to balance this financial advice with the user’s preference for risk within their current situation, our system allows the user to 
                select their asset allocation from a pareto-optimal range (i.e., where only one metric (standard deviation or expected return) has an optimal value). 
                Specifically, after the user completes form submission, our GUI presents up to 5 (X,Y) coordinates (computed in our backend), where each X coordinate 
                corresponds to the cumulative expected return on the user’s retirement account portfolio, and each Y coordinate corresponds to the account balance 
                accumulated by retirement for the expected return represented by X. Additionally, our graph displays minimum and maximum values for the Y 
                coordinate, which correspond to the account balance accumulated by retirement when expected return varies by three standard deviations. 
                
                <br><br>&emsp;&emsp;Thus, our graph displays a 99% confidence interval of account balance by retirement for each point. To compute these points, our backend utilized 
                the paretoOptimal algorithm. The following explains the application of this algorithm to compute our points. First, our system utilizes DGAL to 
                derive the minimum and maximum values for the two metric proxies described in Table 2 for the combined account model: Total Growth of all Accounts 
                by Retirement (Proxy) and Standard Deviation of all Accounts (Proxy). Our code sets these linear proxies as objective functions to incorporate 
                all decision variables in each retirement account model and utilize GLPK. (Thus, our system runs DGAL 4 times, with each
                objective function, objective (if minimizing the objective function, dgal.min() executes, else dgal.max() executes ), and the combined model). 
                
                <br><br>&emsp;&emsp;Afterwards, our system computes each point by running DGAL (the max() function) with the objective function below (which combines our normalized 
                proxies) with a different angle. So, to compute 5 points, our system runs DGAL 5 more times: 
                <br>for point 1, angle= (1* (89))/5, 
                <br>for point 2: angle = (2* (89))/5, and
                <br>for point 5: angle = (5 * (89))/5) :
                  
                <br><br>Xnormalized cos(angle) + Ynormalized sin(angle) where
                
                <br><br>Xnormalized= (Total Growth of all Accounts by Retirement Proxy - min X) /( max X - min X)
                <br>Ynormalized = (total standard deviation of all accounts proxy - min Y)/(max Y - min Y) ,
                  
                <br><br>min Y, max Y, min X, and max X are the optimal values for the proxies
                (the minimum and maximum values computed when the objective function is one proxy, which is computed in the first part of the algorithm)
                
                <br><br>angle = (i * (90 - 1)/n), where i = point number, n = total number of points generating on the graph
                (the angle is computed like so to find coordinates of all n points distributed within the 90 degree angle space)
                
                <br><br>Each optimization takes 20 seconds to complete. So, to avoid timeout errors we distributed these calls for optimization among different api 
                routes in our server, which our GUI uses to fetch this data.
                  
                <br><br><b><span class="primary1">Annuity Feature </span></b>
                <br><br>&emsp;&emsp;Another option we provide to our users is annuities, which is an ideal alternative to choosing asset
                  allocations for risk averse users, due to their low returns and risk. As for computation, based on our user’s expected spending in retirement,
                  we calculate the amount needed to purchase an annuity that would provide that level of consistent spending throughout retirement 
                  (similar to the function of the Brighthouse Financial Calculator). We used the Payout Annuity Formula from [annuity.org](http://annuity.org/) 
                  to calculate this principal.
                  In the picture below , r = return rate (we set it at the average which is 2% , n = 12
                  (for monthly payments), t = years until death, PMT is the monthly payout of the annuity, which we set to the user
                  input of expected annual spending in retirement divided by 12 to get the monthly expected spending in retirement.
                  This ensures that the annuity purchased will cover the user’s spending in retirement.
                  <br>
                  <div class="swiper-slide text-center">
                    <img src="assets/img/retirementformula.png" alt="formula" >
                  </div>
              </p>
            </div>
          </div>

        </div>

      </div>
    </section><!-- End Portfolio Details Section -->

  </main><!-- End #main -->

  <div id="preloader"></div>
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/purecounter/purecounter_vanilla.js"></script>
  <script src="assets/vendor/aos/aos.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
  <script src="assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="assets/vendor/typed.js/typed.min.js"></script>
  <script src="assets/vendor/waypoints/noframework.waypoints.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>

</body>

</html>